Q6 - Î£57

---

## Questions
1. Which of the following tasks does terraform init perform? (select three)

a. downloads required providers used in your configuration file

b. caches the source code locally for referenced modules

c. prepares the working directory for use with Terraform

d. create a sample Terraform configuration file in the working directory

e. updates your state file based on any new changes

<details>
<summary>Answer 1. :</summary>
  a: download required providers used in your configuration file<br/>
  b: caches the source code locally for referenced modules<br/>
  c: prepares the working directory for use with Terraform
</details>

2. Thomas has recently developed a new Terraform configuration in a new working directory and is very cost-conscious. After running a terraform init, how can Thomas perform a dry run to ensure Terraform will create the right resources without deploying real-world resources?

a. run terraform apply -refresh-only

b. run terraform show

c. run terraform plan -out=thomas

d. run terraform output

<details>
<summary>Answer 2. :</summary>
  c: run terraform plan -out=thomas
</details>

3. Which of the following are true about Terraform providers? (select four)

a. some providers are maintained by HahiCorp

b. providers can be written & maintained by an outside organization, such as AWS, F5, or Microsoft

c. all providers are automatically included when downloading Terraform

d. some providers are community-supported

e. they allow anybody to write a provider & publish it to the registry

<details>
<summary>Answer 3. :</summary>
  a: some providers are maintained by Hashicorp<br/>
  b: providers can be written & maintaned by an outside organization, such as AWS,F5, or Microsoft<br/>
  d: some providers are community-supported<br/>
  e: they allow anybody to write a provider & publish it to the registry
</details>

4. True or False? You can continue using your local Terraform CLI to execute terraform plan and terraform apply operations while using Terraform Cloud as the backend.

a. True

b. False

<details>
<summary>Answer 4. :</summary>
  a: True
</details>

5. You need Terraform to destroy and recreate a single database server that was deployed with a bunch of other resources. You don't want to modify the Terraform code. What command can be used to accomplish this task?

a. terraform plan -destroy="aws_instance.database"

b. terraform state show aws_instance.database

c. terraform state rm aws_instance.database

d. terraform apply -replace="aws_instance.database"

<details>
<summary>Answer 5. :</summary>
  d: terraform apply -replace="aws_instance.database"
</details>

6. What CLI commands will completely tear down and delete all resources that Terraform is currently managing? (select two)

a. terraform apply -destroy

b. terraform destroy

c. terraform apply -delete

d. terraform plan -destroy

<details>
<summary>Answer 6. :</summary>
  a: terraform apply -destroy<br/>
  b: terraform destroy
</details>

7. You have declared a variable named db_connection_string inside of the app module. However, when you run a terraform apply, you get the following error message:
````tf
Error: Reference to undeclared input variable
 
on main.tf line 35:
4: db_path = var.db_connection_string
 
An input variable with the name "db_connection_string" has not been declared. This variable can be declared with a variable "db_connection_string" {} block.
````

Why would you receive such an error?

a. an output block was not created in the module, & therefore the variable can't be referenced

b. the variable should be referenced as var.module.app.db_connection_string

c. since the variable was declared within the module, it can't be referenced outside of the module

d. input variables are not referenced using the var prefix

<details>
<summary>Answer 7. :</summary>
  c: since the variable was declared within the module, it can't be rferenced outside of the module<br/><br/>
  When using modules, it's common practice to declare variables outside of the module and pass the value(s) to the child module when it is called by the parent/root module. However, it's perfectly acceptable to declare a variable inside of a module if you needed. Any variables declared inside of a module are only directly referencable within that module. You can't directly reference that variable outside of the module. You can, however, create an output in the module to export any values that might be needed outside of the module.<br/>
  https://www.terraform.io/language/modules/syntax<br/>
  https://www.terraform.io/language/values/variables
</details>

8. Which of the following are advantages of using infrastructure as code (IaC) for your day-to-day operations? (select three)

a. enables self-service for developers & operators alike

b. ensures the security of applications provisioned on managed infrastructure

c. API-driven workflows

d. provides the ability to version control the infrastructure & application architecture

<details>
<summary>Answer 8. :</summary>
  a: enables self-service for developers & operators alike<br/>
  c: API-driven workflows<br/>
  d: provides the ability to version control the infrastructure & application architecture
</details>

9. By default, Terraform OSS stores its state file in what type of backend?

a. remote backend

b. shared backend

c. encrypted backend

d. local backend

<details>
<summary>Answer 9. :</summary>
  d: local backend
</details>

10. Your organization uses IaC to provision and manage resources in a public cloud platform. A new employee has developed changes to existing code and wants to push it into production.

What best practice should the new employee follow to submit the new code?

a. Make the change directly using the cloud provider's API to ensure the changes are valid. Store the code locally & email a copy of the code to a teammate so they have an extra copy

b. Submit the change to the change control board & wait for the approval. Commit the code directly to the main repository

c. Submit a merge/pull request of the proposed changes. Have a team member validate the changes & approve the request

d. Execute the code locally on the developer's machine to make the changes directly to the infrastructure

<details>
<summary>Answer 10. :</summary>
  c: Submit a merge/pull request of the proposed changes. Have a team member validte the ...<br/><br/>
  Following best practices for code, the new changes should be submitted as a pull/merge request in the existing code repository. A teammate, or the security team, should validate the changes and approve the request, ultimately merging the new changes into the existing codebase
</details>

11. What are some of the benefits that Terraform providers offer to users? (select three)

a. enable a plugin architecture that allows Terraform to be extensible without having to update Terraform core

b. enforces security compliance across multiple cloud providers

c. enables the deployment of resources to multiple platforms, such as public loud, private cloud, or other SaaS, PaaS, or IaaS service

d. abstracts the target platform's API from the end-use

<details>
<summary>Answer 11. :</summary>
  a: enables a plugin architecture that allows Terraform ...<br/>
  c: enables the deployment of resources to multiple patforms, ...<br/>
  d: abstracts the target platform's API from the end-user<br/><br/>
  Now, while Terraform can help you standardize security configurations and settings across multiple clouds, it won't enforce it outside of your terraform apply. In other words, it doesn't act like a configuration management tool that can constantly watch for changes to change the configuration back to the desired state.
</details>

12. Steve is a developer who is deploying resources to AWS using Terraform. Steve needs to gather detailed information about an EC2 instance that he deployed earlier in the day. What command can Steve use to view this detailed information?

a. terraform state plull

b. terraform state list

c. terraform state show aws_instance.frontend

d. terraform state rm aws_instance.frontend

<details>
<summary>Answer 12. :</summary>
  c: terraform state show aws_instance.frontend
</details>

13. Which of the following Terraform versions offer the ability to use a private module registry? (select three)

a. Terraform Enterprise

b. Terraform Cloud (free)

c. Terraform OSS/CLI

d. Terraform Cloud for Business

<details>
<summary>Answer 13. :</summary>
  a: Terraform Enterprise<br/>
  b: Terraform Cloud (free)<br/>
  d: Terraform Cloud for Business
</details>

14. Your co-worker has decided to migrate Terraform state to a remote backend. They configure Terraform with the backend configuration, including the type, location, and credentials. However, you want to better secure this configuration. Rather than storing them in plaintext, where should you store the credentials? (select two)

a. environment variables

b. use a variable

c. on the remote system

d. credentials file

<details>
<summary>Answer 14. :</summary>
  a: environment variables<br/>
  d: credentials file (eg. ./aws)<br/><br/>
  Some backends allow providing access credentials directly as part of the configuration for use in unusual situations, for pragmatic reasons. However, in normal use, HashiCorp does not recommend including access credentials as part of the backend configuration. Instead, leave those arguments completely unset and provide credentials via the credentials files or environment variables that are conventional for the target system, as described in the documentation for each backend
</details>

15. You are using modules to deploy various resources in your environment. You want to provide a "friendly name" for the DNS of a new web server so you can simply click the CLI output and access the new website. Which of the following code snippets would satisfy these requirements?

a. Add the following code the parent module :
````tf
output "website" {
  description = "Outputs the URL of the provisioned website"
  value = "https://${module.web.public_dns}:8080/index.html"
}
````

b. Add the following code to the parent module :
````tf
output "website" {
  description = "Outputs the URL of the provisioned website"
  value = aws_instance.web.public_dns
}
````

c. Add the following code the web module :
````tf
output "website" {
  description = "Outputs the URL of the provisoned website"
  value = module.web.public_dns
}
````

d. Add the following code to the web module :
````tf
output "website" {
  description = "Outputs the URL of th provisioned website"
  value = "https://${aws_instance.web.public_dns}:8080/index.html"
}
````

<details>
<summary>Answer 15. :</summary>
  a: Add the following code to the parent module: <br/>
  output "website { <br/> &ensp; description = "Outputs the URL of the provisioned website" <br/> value = "https://${module.web.public_dns}:8080/index.html } <br/><br/>
  When working with outputs, you need to determine where the value will be coming from and work your way backward from there. For example, if the resource was created inside of a module, then the module will require an output block to export that value. That said, output blocks that are created in a module aren't displayed on the Terraform CLI. Therefore, you need to create an output block in the parent/calling module to output the value while referencing the output in the module. Because of this, the correct answer requires you to create an output in the parent module and reference the output value from the module.
</details>

16. True or False? Official Terraform providers and modules are owned and maintained by HashiCorp.

a. True

b. False

<details>
<summary>Answer 16. :</summary>
  True<br/><br/>
  This is true. If a module or provider is marked as official, it is owned and maintained by HashiCorp themselves. In fact, I copied the sentence in the question straight off the
</details>

17. Your team is using Terraform and multiple team members need to be able to manage the infrastructure. You need to ensure state locking is supported to reduce the chance of corrupting the state file. What backends can you use to meet these requirements? (select three)

a. s3 backend (with DynamoDB)

b. local backend

c. consul backend

d. etcd backend

e. kubernetes backend

<details>
<summary>Answer 17. :</summary>
  a: s3 backend (with DynamoDB)<br/>
  c: consul backend<br/>
  e: kubernetes backend<br/><br/>
  Not all Terraform backends are created equal. Some backends act like plain "remote disks" for state files; others support locking the state while operations are being performed, which helps prevent conflicts and inconsistencies<br/>
  Kubernetes, Consul, and S3 backends all support state locking. S3 supports state locking with the help of DynamoDB.
</details>

18. If supported by your backend, Terraform will lock your state for all operations that could write state. What purpose does this serve?

a. Ensures the state file can't be moved after the initial terraform apply

b. Locks colleagues from making manual changes to the managed infrastructure

c. Prevents others from committing Terraform code that could override your updates

d. This prevents others from acquiring the lock & potentially corrupting your state

<details>
<summary>Answer 18. :</summary>
  d: This prevents others from acquiring the lock & potentially conrrupting your state
</details>

19. Which of the following code snippets will properly configure a Terraform backend?

a. 
````tf
terraform {
  backend "remote" {
    hostname = "app.terraform.io"
    organization = "btk"
    
  workspaces {
    name = "bryan-prod"
  }
  }
}
````

b. 
````tf
provider "consul" {
  address = "consul.btk.com"
  scheme = "https"
  path = "terraform/"
}
````

c. 
````tf
data "terraform_remote_state" "btk" {
  backend = "etcd"
  config = {
    path = "terraform/terraform.tfstate"
    endpoints = "http://server1:4001"
  }
}
````

d. 
````tf
backend "s3 {
  bucket = "krausen-bucket"
  key = "terraform/"
  region = "us-west-2"
}
````

<details>
<summary>Answer 19. :</summary>
  a: terraform { <br/> &ensp; backend "remote" { <br/> &ensp; &ensp; hostname = " app.terraform.io" <br/> &ensp; &ensp; organization = "btk" <br/><br/> &ensp; workspace { <br/> &ensp; &ensp; name = "bryan-prod" } } <br/><br/>
  Backends are configured with a nested backend block within the top-level terraform block. There are some important limitations on backend configuration: <br/> &ensp; * A configuration can only provide one backend block. <br/> * A backend block cannot refer to named values (like input variables, locals, or data source attributes).
</details>

20. Which of the following are true regarding Terraform variables? (select two)

a. the default value will be found in the state file if no other value was set for the variable

b. the variable name can be found in the state file to allow for easy searching

c. variables marked as sensitive are still stored in the state file, even though the values are obfuscated from the CLI output

d. the description of variable will be written to state to help describe the contents of the state file

<details>
<summary>Answer 20. :</summary>
  a: the default value will be found in the state file if no other value was for the variable<br/>
  c: variable marked as sensitive are still stored in the state file, even though the values are obfuscaled from the CLI output<br/><br/>
  When it comes to working with variables, the value that is used in the Terraform configuration will be stored in the state file, regardless of whether the sensitive argument was set to true. However, the value will not be shown in the CLI output if the value was to be exported by an output block.<br/>
  https://www.terraform.io/language/values/variables<br/>
  https://learn.hashicorp.com/tutorials/terraform/outputs<br/>
  https://learn.hashicorp.com/tutorials/terraform/variables
</details>

21. You have decided to move your state file to an Amazon S3 remote backend. You configure Terraform with the proper configuration. What command should be run in order to complete the state migration?
````tf
terraform {
  backend "s3" {
    bucket = "tf-bucket"
    key = "terraform/krausen/"
    region = "us-east-1"
  }
}
````

a. terraform init -reconfigure

b. terraform state show

c. terraform plan -replace

d. terraform apply -refresh-only

<details>
<summary>Answer 21. :</summary>
  a: terraform init -reconfigure
</details>

22. After running terraform apply, you notice some odd behavior and need to investigate. Which of the following environment variables will configure Terraform to write more detailed logs to assist with troubleshooting?

a. TF_LOGS=ERROR

b. LOG_CONFIG=INFO

c. TF_LOG_CONFIG=WARN

d. TF_LOG=TRACE

<details>
<summary>Answer 22. :</summary>
  d: TF_LOG=TRACE
</details>

23. Your organization has standardized on Microsoft Azure to run its applications on PaaS, SaaS, and IaaS offerings. The deployment quickly standardized on Azure ARM to provision these resources quickly and efficiently.

Which of the following is true about how the team currently deploys its infrastructure?

a. the team would not be able to quickly adapt & integrate baseline security measures in its code to help standardize application deployments

b. the team would not be able to develop reusable code in order to reduce the time it takes to develop code for new applications

c. the team would not able to use its existing skill set to develop code for newly announced service

d. the adoption of another public cloud provider will prove to be more challenging since all of its codebase is based on ARM

<details>
<summary>Answer 23. :</summary>
  d: the adoption of tnother public cloud provider will prove to be more challenging since all of its codebase is based on ARM
</details>

24. When initializing Terraform, you notice that Terraform's CLI output states it is downloading the modules referenced in your code. Where does Terraform cache these modules?

a. in the /downloads directory for the user running the terraform init

b. in the /tmp directory on the machine execuiting Terraform

c. in a /module directory in the current working directory

d. in the .terraform/modules subdirectory in the current working directory

<details>
<summary>Answer 24. :</summary>
  d: in the .terraform/modules subdirectory in the current working directory
</details>

25. Given the code snippet below, how would you refer to the value of ip for the dev environment if you are using a for_each argument?
````tf
variable "env" {
  type = map(any)
  default = {
    prod = {
      ip = "10.0.150.0/24"
      az = "us-east-1a"
    }
    dev  = {
      ip = "10.0.250.0/24"
      az = "us-east-1e"
    }
  }
}
````

a. var.env.dev.ip

b. each.value.ip

c. var.env["dev.ip"]

d. each.dev.ip

<details>
<summary>Answer 25. :</summary>
  b: each.value.ip <br/><br/>
  Sort of testing two different things here - a complex map variable plus the for_each argument.<br/>
  A for_each argument will iterate over a map or set of strings and create a similar instance/resource for each item in the map or set. In our case, the map is the input variable and the "each" would be the higher-level map, so prod and dev.  Underneath each value, there are two arguments, both az and ip that you can choose from.

The input variable that is shown in this example is essentially a map of maps.<br/>
  https://www.terraform.io/language/meta-arguments/for_each<br/>
  https://learn.hashicorp.com/tutorials/terraform/for-each
</details>

26. You are using Terraform to manage resources in Azure. Due to unique requirements, you need to specify the version of the Azure provider so it remains the same until newer versions are thoroughly tested.

What block would properly configure Terraform to ensure it always installs the same Azure provider version?

a.
````tf
terraform {
  required_providers {
    azurerm = {
      source = "hashicorp/azurerm"
      version = "2.90.0"
    }
  }
}
````

b.
````tf
provider "azurerm" {
  source = "hashicorp/azurerm
  version = 2.90.0"
}
````

c.
````tf
data "azurerm" {
  source = "hashicorp/azurerm"
  version 2.90.0
}
````

d. 
````tf
required_providers {
  azurerm = {
    source = "hashicorp/azurerm
    version = "2.90.0"
  }
}
````

<details>
<summary>Answer 26. :</summary>
  a: terraform { <br/> &ensp; required_providers { <br/> &ensp;&ensp; azurerm = { <br/> &ensp;&ensp;&ensp; source = "ashicorp/azurerm" <br/> &ensp;&ensp;&ensp; version = "2.90.0" } } }
</details>

27. You have recently cloned a repo containing Terraform that you want to test in your environment. Once you customize the configuration, you run a terraform apply but it immediately fails. Why would the apply fail?

a. Terraform needs to initialize the directory & download the required plugins

b. you need to run a terraform plan before you can apply the configuration

c. you can't run Terraform code that was cloned form another users code repository

d. Terraform needs to obtain authentication credentials using the terraform login command

<details>
<summary>Answer 27. :</summary>
  a: Terraform needs to initialize the directory & download the required plugins
</details>

28. Which of the following is the best description of a dynamic block?

a. produces nested configuration blocks instead of a complex typed value

b. declareds a resource of a givben type with a given local name

c. exports a value exported by a module or configuration

d. requests that Terraform read form a given data source & export the result under the given local name

<details>
<summary>Answer 28. :</summary>
  a: produces nested configuration blocks instead of a complex typed value<br/><br/>
  A dynamic block acts much like a for expression, but produces nested blocks instead of a complex typed value. It iterates over a given complex value and generates a nested block for each element of that complex value. You can dynamically construct repeatable nested blocks like setting using a special dynamic block type, which is supported inside resource, data, provider, and provisioner blocks.<br/>
  https://www.terraform.io/language/expressions/dynamic-blocks
</details>

29. You have deployed your network architecture in AWS using Terraform. A colleague recently logged in to the AWS console and made a change manually and now you need to be sure your Terraform state reflects the new change.

What command should you run to update your Terraform state?

a. terraform get -update 

b. terraform init -upgrade

c. terraform apply -refresh-only

d. terraform plan -out=refresh

<details>
<summary>Answer 29. :</summary>
  c: terraform apply -refresh-only
</details>

30. Which of the following best describes the primary use of Infrastructure as Code (IaC)?

a. ensuring that applications remain in the desired state configuration

b. combining disparate technologies & various tasks into a single workflow

c. ensures that the operations team understands how to develop code

d. the ability to programmatically desploy & configure resources

<details>
<summary>Answer 30. :</summary>
  d: the ability to programmatically deploy & configure resources<br/><br/>
  The primary use case for IaC is to deploy and configure resources in almost any environment in a single, unified way that also abstracts the user from the APIs.
</details>

31. You are using Terraform OSS and need to spin up a copy of your GCP environment in a second region to test some new features. You create a new workspace. Which of the following is true about this new workspace? (select four)

a. you can use a different vairables file for this workspace if needed

b. it uses the same Terraform code in the current directory

c. it has its own state file

d. changes to this workspace won't impact other workspaces

e. it uses a different Terraform backend

<details>
<summary>Answer 31. :</summary>
  a: you can use a different variables file for this workspace if needed<br/>
  b: it uss the same Terraform code in the current directory<br/>
  c: it has its own state file<br/>
  d: changes to this workspace won't impact other workspaces
</details>

32. True or False? In both Terraform OSS and Terraform Cloud/Enterprise, workspaces provide similar functionality of using a separate state file for each workspace.

a. True

b. False

<details>
<summary>Answer 32. :</summary>
  a: True<br/><br/>
  This is true. When you create a new workspace using Terraform OSS/CLI using the terraform workspace new command, you will be working with a separate state file when working with that workspace. You can easily change between workspaces and their respective state file using the terraform workspace select command.<br/>
  The same is true in Terraform Cloud/Enterprise. When you create a new workspace, you'll be working with a dedicated state file for that particular workspace. It doesn't share a state file with any other workspace.
</details>

33. True or False? min, max, format, join, trim, and length are examples of different expressions in Terraform.

a. True

b. False

<details>
<summary>Answer 33. :</summary>
  b: False<br/><br/>
  These are actually examples of Terraform functions, not expressions. Expressions would be something more in the line of string, number, bool, null, etc.<br/>
  For the exam, you should go through these and understand what they do at a high level as you could get questions on using a few of them. Check out the built-in functions for Terraform here<br/>
  https://www.terraform.io/language/functions
</details>

34. You are working on updating your infrastructure managed by Terraform. Before lunch, you update your configuration file and run a terraform plan to validate the changes. While you are away, a colleague manually updates a tag on a managed resource directly in the console (UI).

What will happen when you run a terraform apply?

a. Terraform will upate the manually changed resource back to the original configuration. it will then apply the new changes defined in the updated configuration file

b. Before applying the new configuration, Terraform will refresh the state & recongnize the manual change. it will update the resource based on the desired state as configured in the Terraform configuration. The manual change will no longer exist

c. Terraform will destroy the manually-changed resource & recreate it to ensure the infrastructure matches the desired state

d. Terraform will recongnize the manual change & return an error since the Terraform state no loger matches the real-world infrastructure

<details>
<summary>Answer 34. :</summary>
  b: Before applying the new configuration, Terraform will refresh the sate & recongnize the maual change. ...<br/><br/>
  There's a lot to this question, but the reasoning is pretty basic. Since a resource was manually changed, it means that Terraform state is no longer accurate. However, before a terraform plan or terraform apply is executed, Terraform refreshes its state to ensure it knows the status of all its managed resources. During this process, Terraform would recognize the change, update state, and compare that to the new configuration file. Assuming the change defined in the configuration is identical to the manual change, Terraform would simply apply any changes (if any), update the state file, and complete the terraform apply.
</details>

35. When using Terraform, where can you install providers from? (select four)

a. Terraform registry

b. official HashiCorp release site

c. plugins directory

d. the provider's source code

e. Terraform plugin cache

<details>
<summary>Answer 35. :</summary>
  a: terraform registry<br/>
  b: official hashicorp releases site<br/>
  c: plugins directory<br/>
  e: terraform plugin cache<br/><br/>
  Providers can be installed using multiple methods, including downloading from a Terraform public or private registry, the official HashiCorp releases page, a local plugins directory, or even from a plugin cache. Terraform cannot, however, install directly from the source code.
</details>

36. You need to ensure your Terraform is easily readable and follows the HCL canonical format and style. In the current directory, you have a main.tf that calls modules stored in a modules directory. What command should you run to validate Terraform in the current and sub-directories?

a. terraform fmt -list=false

b. terraform fmt -recursive

c. terraform fmt -diff

d. terraform fmt -check

<details>
<summary>Answer 36. :</summary>
  b: terraform fmt -recursive
</details>

37. True or False? Terraform can only manage dependencies between resources if the depends_on argument is explicitly set for the dependent resources.

a. True

b. False

<details>
<summary>Answer 37. :</summary>
  b: False<br/><br/>
  The most common source of dependencies is an implicit dependency between two resources or modules. That means that Terraform builds a dependency map (aka resource graph) to help determine what resources it can create in parallel, and what resources are dependent on others based on interpolation used within the configuration.
</details>

38. A new variable has been created using the list type as shown below. How would you reference terraform in your configuration?
````tf
variable "products" {
    type = list(string)
    default = [
        "vault",
        "consul",
        "terraform",
        "boundary",
        "nomad"
    ]
}
````

a. var.products[2]

b. var.list.products[2]

c. var.products[3]

d. var.default.products["terraform"]

<details>
<summary>Answer 38. :</summary>
  a: var.prodcts[2]
</details>

39. When using collection types for variables in Terraform, which of the following two statements are true? (select two)

a. maps are defined inside of curly braces, like this : { name = "John" age = 52 }

b. lists are defined inside of squre brackets, like this : ["value1", "value2", "value3"]

c. maps are defined inside of square brackets, like this: [ name = "John" age = 52 ]

d. lists are difined inside or curly braces, like this : {"value1," "value2", "value3"}

<details>
<summary>Answer 39. :</summary>
  a: maps are defined inside of curly braces, loke this : { name = "John" age = 52 }<br/>
  b: list are defined inside of square brackets, loke this : ["value1", "value2", "value3"]<br/><br/>
  Lists/tuples are represented by a pair of square brackets containing a comma-separated sequence of values, like ["a", 15, true].<br/>
  Maps/objects are represented by a pair of curly braces containing a series of <KEY> = <VALUE> pairs.<br/>
  https://www.terraform.io/language/expressions/types#lists-tuples
</details>

40. True or False? The terraform graph command can be used to generate a visual representation of a configuration or execution plan.

a. False

b. True

<details>
<summary>Answer 40. :</summary>
  b: True<br/><br/>
  The terraform graph command is used to generate a visual representation of either a configuration or execution plan. The output is in the DOT format, which can be used by GraphViz to generate charts.
</details>

41. You want to use Terraform to deploy resources across your on-premises infrastructure and a public cloud provider. However, your internal security policies require that you have full control over both the operating system and deployment of Terraform binaries. What versions of Terraform can you use for this? (select two)

a. Terraform Cloud (free)

b. Terraform OSS/CLI

c. Terraform Enterprise

d. Terraform Cloud for Business

<details>
<summary>Answer 41. :</summary>
  b: terraform OSS/CLI<br/>
  c: terraform Enterprise<br/><br/>
  Terraform OSS and Terraform Enterprise are versions of Terraform that can be installed locally on your own servers, therefore giving you the ability to manage both the Terraform binary and the underlying operating system where Terraform runs.<br/>
  WRONG ANSWERS:<br/>
  Although Terraform Cloud for Business does offer Cloud Agents that could be used to provision resources on your local infrastructure on-premises, it is a hosted solution and you would NOT have full control over the operating system that runs the Terraform platform.<br/>
  Terraform Cloud (free) does not meet either of these use cases since you can't deploy to on-premises nor can you manage the underlying operating system since it's a hosted service<br/>
  https://www.terraform.io/cloud-docs/agents
</details>

42. You want to use a Terraform provisioner to execute a script on the remote machine. What block type would use to declare the provisioner?

a. resource block

b. terraform block

c. data block

d. provider block

<details>
<summary>Answer 42. :</summary>
  a: resource block<br/><br/>
  First, provisioners should only be used as a last resort. Keep that in mind when writing Terraform.<br/>
  When using a Terraform provisioned, you would declare the provisioned inside of a resource block to determine when the provisioner should be executed. For example, if you add the provisioner to an aws_instance resource, the provisioner will be executed when the aws_instance resource is built.<br/>
  https://www.terraform.io/language/resources/provisioners/syntax<br/>
  https://www.terraform.io/language/resources/provisioners/syntax#how-to-use-provisioners<br/>
  https://www.terraform.io/language/resources/provisioners/syntax#multiple-provisioners
</details>

43. You have an existing resource in your public cloud that was deployed manually, but you want the ability to reference different attributes of that resource throughout your configuration without hardcoding any values. How can you accomplish this?

a. Create a new variable block within your configuration. Add the resource_id as the default value & reference the variable using var.<name> throughout your configuration as needed
  
b. run a terraform state list to find the resource_id of the resource you need the attributes from. Refrence that resource_id throughout your configuration to get the exported attributes as neede
  
c. Add a data block to your configuration to query the existing resource. Use the available exported attributes of that resource type as needed throughout your configuration to get the values your need
  
d. Create a new resource block that matches the exact configuration of the existing resource. Run a terraform apply to import the resource. Use the available exported attributes of that resource throughout your configuration as needed
  
<details>
<summary>Answer 43. :</summary>
  c: Add a data block to your configuration to query the existing resource. Use the available exported...<br/><br/>
  Anytime you need to reference a resource that is NOT part of your Terraform configuration, you need to query that resource using a data block - assuming a data source is available for that resource_type. Once you add the data block to your configuration, you will be able to export attributes from that data block using interpolation like any other resource in Terraform. For example, if you had an AWS S3 bucket, you could get information using a data block that looked like this:<br/>
  data "aws_s3_bucket" "data_bucket" { <br/> &ensp; bucket = "my-data-lookup-bucket-btk"<br/> } <br/>
  Once you add the data block, you can refer to exported attributes like this:<br/>
  data.aws_s3_bucket.data_bucket.arn
</details>
  
44. You work for a retail organization that has multiple peak seasons throughout the year. During those peak seasons, your applications need to be scaled up quickly to handle the increased demand. However, the deployment of application servers is manual and new servers are only deployed when problems are reported by users.

How can you reduce the effort required to deploy new resources, increase the speed of deployments, and reduce or eliminate the negative experiences of your customers?
  
a. Develop code that provisions new application servers programmatically. Use monitoring software to trigger a pipeline that deploys additional servers during periods of increased demand
  
b. Develop a manual runbook that the developers & operations teams can follow during the peak seasons to reconfgiure the compute resources used to serve the primary application
  
c. Rather than on user reports, implement a ticketing system that alerts the operations team of poor performance or customer erros. Automatically assign the tickets to the on-call team to quickly resolve
  
d. Deploy new IaC that automatically shuts down existing application servers & scales the resources down during periods of high demand
  
<details>
<summary>Answer 44. :</summary>
  a. Develop code that provsions new application servers programmatically. Use monitoring software to trigger a pipeline...
</details>
  
45. True or False? You can move Terraform state between supported backends at any time, even after running your first terraform apply.
  
a. False
  
b. True
  
<details>
<summary>Answer 45. :</summary>
  b: True
</details>
  
46. True or False? When using Terraform Cloud or Enterprise, committing code to your version control system (VCS) can automatically trigger a speculative plan?
  
a. True
  
b. False
  
<details>
<summary>Answer 46. :</summary>
  a: True<br/><br/>
  When workspaces are linked to a VCS repository, Terraform Cloud can automatically initiate Terraform runs when changes are committed to the specified branch.<br/>
  https://www.terraform.io/cloud-docs/vcs
</details>
  
47. Which common action does not cause Terraform to refresh its state?
  
a terraform destroy
  
b. terraform apply
  
c. terraform plan
  
d. terraform state list
  
<details>
<summary>Answer 47. :</summary>
  d: terraform state list<br/><br/>
  Running a terraform state list does not cause Terraform to refresh its state. This command simply reads the state file but it will not modify it.     
</details>
  
48. You have a module named prod_subnet that outputs the subnet_id of the subnet created by the module. How would you reference the subnet ID when using it for an input of another module?
  
a. subnet = module.outputs.prod_subnet.subnet_id
  
b. subnet = prod_subnet.subnet_id
  
c. subnet = prod_subnet.outputs.subnet_id
  
d. subnet = module.prod_usbnet.subnet_id
  
<details>
<summary>Answer 48. :</summary>
  d: subnet = module.prod_subnet.subnet_id<br/><br/>
  Using interpolation, you can reference the output of an exported value by using the following syntax: module.<module name>.<output name><br/>
  Don't forget that before you can reference data/values from a module, the module has to have an output declared that references the desired value(s).<br/>
  https://www.terraform.io/language/modules/syntax#accessing-module-output-values
</details>
  
49. True or False? If you have properly locked down access to your state file, it is safe to provide sensitive values inside of your Terraform configuration.
  
a. False
  
b. True
  
<details>
<summary>Answer 49. :</summary>
  a: False<br/><br/>
  Ok, so this was sort of a trick question because locking down your state file really has nothing to do with storing sensitive values inside of your Terraform configuration. Remember that most, if not all, of your configuration, will likely be committed to a code repository. Anybody, or any machine, with access to that code repo would now be able to read the sensitive values that were hardcoded in your Terraform configuration.<br/>
  Best practice here is to provide your sensitive values OUTSIDE of Terraform, like storing and retrieving them from a secrets management platform like Vault, or using environment variables.<br/>
  https://learn.hashicorp.com/tutorials/terraform/sensitive-variables?in=terraform/configuration-language
</details>
  
50. You need to use multiple providers in Terraform to accomplish a task. Which of the following can be used to configure the settings for multiple providers?
  
a. 
````tf
provider "consul" {
  address = "https://consul.krausen.com:8500"
  namespace = "developer"
  token = "45a3bd52-07c7-47a4-52fd-0745e0cfe967"
}
provider "vault" {
  address = "https://vault.krausen.com:8200"
  namespace = "developer"
}
````
  
b. 
````tf
required_providers {
  consul {
    address = "https://consul.krausen.com:8500"
    namespace = "developer"
    token = "45a3bd52-07c7-47a4-52fd-0745e0cfe967"
  }  
    address = "https://vault.krausen.com:8200"
    namespace = "developer"
}
````
  
c. 
````tf
data "consul" {
  address = https://consul.krausen.com:8500"
  namespace = "developer"
  token = "45a3bd52-07c7-47a4-52fd-0745e0cfe967"
}
  
data "vault" {
  address = "https://vault.krausen.com:8200"
  namespace = "developer"
}
````
  
d. 
````tf
terraform {
  providers {
    consul {
      address = "https://consul.krausen.com:8500"
      namespace = "developer"
      token = "45a3bd52-07c7-47a4-52fd-0745e0cfe967"  
    }
    vault {
      address = "https://vault.krausen.com:8200"
      namespace = "developer"
    }
  }  
}
````
  
<details>
<summary>Answer 50. :</summary>
  a: provider "consul" { <br/> &ensp; address = "https://consul.krausen.com:8500" <br/> &ensp; namespace = "developer" <br/> &ensp; token = "453a3bd52-07c7-47a4-52fd-0745e0cfe967" } <br/> provider "vault" { <br/> &ensp; address = "https://vault.krausen.com:8200" <br/> &ensp; namespace = "developer" }<br/><br/>
  To configure each provider, you need to define a provider block and provide the configuration within that block. You would need to do this for each provider that you need to configure. For example, if you needed to customize the aws, gcp, and vault provider, you'd need to create three separate provider blocks, one for each provider.<br/>
  Don't forget that configurations for a provider go inside of a provider block, but any provider constraints go inside of the terraform --> required_providers block.
</details>
  
51. True or False? When developing Terraform code, you must include a provider block for each unique provider so Terraform knows which ones you want to download and use.
  
a. False
  
b. True
  
<details>
<summary>Answer 51. :</summary>
  a: False<br/><br/>
  Unlike many other objects in the Terraform language, a provider block may be omitted if its contents would otherwise be empty. Terraform assumes an empty default configuration for any provider that is not explicitly configured. In other words, if you don't have any specific configurations for your provider, you may indeed leave it out of your configuration.
</details>
  
52. Which of the following is not true about the terraform.tfstate file used by Terraform?
  
a. it always matches the infrastructure deployed with Terraform
  
b. the file includes information about each resource managed by Terraform
  
c. the file can potentially contain sensitive values
  
d. it is recommended not to modify the file directly
  
<details>
<summary>Answer 52. :</summary>
  a: it always matches the infrastructure deployed with terraform<br/><br/>
  The one thing that cannot be guaranteed is that the terraform.tfstate file ALWAYS matches the deployed infrastructure since changes can easily be made outside of Terraform. For example, if you deploy a bunch of resources in GCP and nobody makes any changes, then yes, the terraform.tfstate file does match the current state of those resources. However, if an engineer makes a change in the GCP console or CLI, then the terraform.tfstate would NOT match the infrastructure deployed until you ran a terraform apply -refresh-only command.
</details>
  
53. Which of the following is true about working with modules?
  
a. modules must be published to the Terraform module registry before they can be used
  
b. a singe module can be called many times in a single configuration file
  
c. every module that is called from a parent module must output values
  
d. a module can only contain a single resource to be deployed or managed
  
<details>
<summary>Answer 53. :</summary>
  b: a single module can be called many times in a single configuration file<br/><br/>
  Ok, so there's a lot to unpack for this question here. First, let's talk about the correct answer. Modules can be called one or more times by a parent module. The configuration file/module that calls a module is often called the parent, root,or calling module. The module that is called is the child module, or sometimes just "module". The whole point of using a module is to be able to call it one or many times to create resources without having to rewrite the same code over and over.
</details>
  
54. Which of the following statements are true about using terraform import? (select three)
  
a. the terraform import command will automatically update the referenced Terraform resource block after the resource has been imported to ensure consistency
  
b. you must update your Terraform configuration for the imported resource before attempting to import the resource
  
c. the resource address (ex: aws_isntance.web) & resource ID (ex: i-abcdef12345) must be provided when importing a resource
  
d. using terraform import will brin the imported resource under Terraform managment & add the new resource to the state file
  
<details>
<summary>Answer 54. :</summary>
  b: you must update your Terraform configuration for the imported resource...<br/>
  c: the resource address (eg: aws_instance.web) & resource id ...<br/>
  d: using terraform import will brin the imported resource under ...
</details>
  
55. You are worried about unauthorized access to the Terraform state file since it might contain sensitive information. What are some ways you can protect the state file? (select two)
  
a. replicate the state file to an encrypted storage device
  
b. store in a remote backend that encrypts state at rest
  
c. use the S3 backend using the encrypt option to ensure state is encrypted
  
d. enable native encryption in Terraform as configured in the terraform block
  
<details>
<summary>Answer 55. :</summary>
  b: store in a remote backend that encrypts state at rest<br/>
  c: use the s3 backend using the encrypt option to ensure state is encrypted
</details>
  
56. What Terraform command can be used to evaluate and experiment with expressions in your configuration?
  
a. terraform console
  
b. terraform get
  
c. terraform plan
  
d. terraform env
  
<details>
<summary>Answer 56. :</summary>
  a: terraform console
</details>
  
57. True or False? terraform validate will validate the syntax of your HCL files.
  
a. False
  
b. True
  
<details>
<summary>Answer 57. :</summary>
  b: True
</details>
  
---
  
## Score
1. 05-08-2022 PM | 34/57 = 59%
